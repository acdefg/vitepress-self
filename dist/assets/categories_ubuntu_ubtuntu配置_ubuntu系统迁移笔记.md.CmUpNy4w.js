import{_ as a,c as i,a8 as e,o as n}from"./chunks/framework.CElktlHO.js";const c=JSON.parse('{"title":"ubuntu系统迁移笔记","description":"","frontmatter":{"title":"ubuntu系统迁移笔记","author":"Cici","date":"2024/11/04 23:56","isTop":false,"categories":["ubuntu"],"tags":["tool"]},"headers":[],"relativePath":"categories/ubuntu/ubtuntu配置/ubuntu系统迁移笔记.md","filePath":"categories/ubuntu/ubtuntu配置/ubuntu系统迁移笔记.md","lastUpdated":1730736460000}'),t={name:"categories/ubuntu/ubtuntu配置/ubuntu系统迁移笔记.md"};function l(p,s,r,h,d,u){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="ubuntu系统迁移笔记" tabindex="-1">ubuntu系统迁移笔记 <a class="header-anchor" href="#ubuntu系统迁移笔记" aria-label="Permalink to &quot;ubuntu系统迁移笔记&quot;">​</a></h1><p>参考：<a href="https://blog.csdn.net/Bruski/article/details/115840667" target="_blank" rel="noreferrer">记一次Ubuntu完美迁移系统盘的折腾_记一次完美ubuntu 迁移_Bruski的博客-CSDN博客</a></p><h3 id="主要步骤" tabindex="-1">主要步骤 <a class="header-anchor" href="#主要步骤" aria-label="Permalink to &quot;主要步骤&quot;">​</a></h3><ol><li>制作原系统的启动盘：因为原来的系统已经满了，完全开不了机了，所以是用 windows 安装的，参考 [[ubuntu安装记录]]</li><li>从启动盘启动：这里我试过第一个选项 try ubuntu 将进入但是显示高亮度屏幕，所以每次进去都是选择第二个 safe mode，然后进入之后再选择 try ubuntu</li><li>处理分区：参考链接中 ubuntu 个根据功能划分了好几个分区，当时偷懒装系统的时候就选择的自动分区，于是就只有一个盘，所以只需要将新的盘格式化成 ext4，和原来的一样即可，然后第一次忘记选上面的勾，就以为已经开始了</li><li>复制文件：从这步开始可以进入 root，几乎所有指令都需要 root 其权限，复制代码如下，具体根据盘符来修改</li></ol><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> if=/dev/nvme0n1p5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of=/dev/nvme1n1p2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>想要看进度，新开一个 terminal</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> killall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -USR1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>原来的 terminal 将就会输出进度 5. 修改 uuid：先生称再修改老是失败，然后两条一起输成功了</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uuidgen</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tune2fs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/nvme1n1p2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查看 uuid：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blkid</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="6"><li>修复启动项：联网，下载一个 boot-repair，手动修复太麻烦了，直接recommand</li></ol><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add-apt-repository</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ppa:yannubuntu/boot-repair</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> boot-repair</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">boot-repair</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h3><div class="language-ad-failure vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ad-failure</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span>
<span class="line"><span>弄完之后，新系统的启动项有了，原来盘的启动项也还在，然后直接把原来盘给删了，结果系统启动出错了，不过问题不大，如下图</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="原博客里有两步没有做" tabindex="-1">原博客里有两步没有做 <a class="header-anchor" href="#原博客里有两步没有做" aria-label="Permalink to &quot;原博客里有两步没有做&quot;">​</a></h3><p>可能是这两步导致的问题 <img src="https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202303170949790.png" alt=""><img src="https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202303170949340.png" alt=""></p>`,17)]))}const k=a(t,[["render",l]]);export{c as __pageData,k as default};
